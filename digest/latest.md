# OPMLWatch Digest

Generated at: 2026-02-16 10:44:48 UTC

- [CHANGELOG.md](https://nesbitt.io/2026/02/16/changelog.html) (`nesbitt.io`)
  - TLDR: 项目通过移除大型依赖、自建轻量数学模块，修复关键财务计算bug，并暴露eval()安全漏洞，实现包体积减少68%与构建时间大幅缩短。
  - WHAT: 1.2.0移除14MB的mathjs，新增47行自定义math-utils；1.3.0添加百分比/四舍五入函数，修复除零返回Infinity、浮点精度、字符串拼接导致的$149百万订单等严重bug；1.4.0添加用户表达式解析器，但发现CVE-2025-41547（因使用eval()）。
  - WHY: 消除冗余依赖以优化性能与构建速度；统一分散的数学逻辑并修复直接影响营收的财务错误；为满足销售需求快速引入功能，但未进行安全代码审查。
  - ACTION: 立即审计项目依赖，仅保留必需功能；对涉及金额、 rounding 的核心逻辑编写单元测试，覆盖边界条件；彻底移除eval()，改用安全解析库（如math.js或自定义AST）；所有变更需记录changelog并关联issue编号。
  - TWEET: 【血泪教训】某项目移除14MB mathjs，自建47行数学模块，包体积↓68%，构建从12s→4s。但为满足销售需求，1.4.0竟用eval()实现表达式解析，引爆CVE-2025-41547。此前已修复$Infinity发票、$149百万订单等致命bug。核心教训：1. 财务逻辑必须全覆盖测试；2. 禁用eval，安全优先；3. 拒绝臃肿依赖，自建轻量模块。 #安全 #性能优化 #开发实践
